import { __decorate } from "tslib";
import { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, HostBinding, Input, OnDestroy, OnInit, Output, } from '@angular/core';
import { SplitViewService } from '../split-view.service';
/**
 * The view component is part of the `SplitViewComponent`. The view
 * contains the navigable content that should be split up. It maintains
 * a view position and allows to show or hide the view.
 *
 * The ViewComponent interacts with the `SplitViewService` for handing over the
 * view state, so that the overarching `SplitViewComponent` can manage the
 * overall experience.
 */
let ViewComponent = class ViewComponent {
    constructor(splitService, elementRef) {
        this.splitService = splitService;
        this.elementRef = elementRef;
        /**
         * The disappeared flag is added to the
         */
        this.disappeared = true;
        /**
         * An update of the view visibility is emitted to the hiddenChange output.
         */
        this.hiddenChange = new EventEmitter();
    }
    /**
     * The hidden input is used to set the initial visible state of the view.
     * The hidden state defaults to false.
     *
     * The hidden input supports 2-way binding, see `hiddenChange` property.
     */
    set hidden(hidden) {
        this._hidden = hidden;
        this.splitService.toggle(this.viewPosition, hidden);
    }
    ngOnInit() {
        this.splitService.splitViewCount = this.splitViewCount;
        const hidden = this._hidden ? { hidden: this._hidden } : {};
        this.splitService.add(this.viewPosition, hidden);
        this.subscription = this.splitService
            .getViewState(Number(this.position))
            .subscribe((view) => {
            this.hiddenChange.emit(view.hidden);
            this._hidden = view.hidden;
            if (view.hidden) {
                setTimeout(() => {
                    this.disappeared = true;
                }, this.duration * 1.25);
            }
            else {
                this.disappeared = false;
            }
        });
    }
    /**
     * Toggles the visibility of the view.
     *
     * An optional force flag can be used to explicitly show or hide view component.
     */
    toggle(force) {
        this.splitService.toggle(this.viewPosition, force);
    }
    /**
     * Returns the position for the view.
     *
     * The position is either taken from the input `position` or generated by the `SplitService`.
     */
    get viewPosition() {
        if (!(Number(this.position) >= 0)) {
            this.position = this.splitService.nextPosition.toString();
        }
        return Number(this.position);
    }
    /**
     * Returns the duration in milliseconds. The duration is based on the CSS custom property
     * `--cx-transition-duration`. Defaults to 300 milliseconds.
     */
    get duration() {
        const duration = getComputedStyle(this.elementRef.nativeElement)
            .getPropertyValue('--cx-transition-duration')
            .trim();
        if (duration.indexOf('ms') > -1) {
            return Number(duration.split('ms')[0]);
        }
        else if (duration.indexOf('s') > -1) {
            return Number(duration.split('s')[0]) * 1000;
        }
        else {
            return 300;
        }
    }
    /**
     * Returns the maximum number of views per split-view. The number is based on the CSS custom property
     * `--cx-max-views`. Defaults to `2`
     */
    get splitViewCount() {
        return Number(getComputedStyle(this.elementRef.nativeElement)
            .getPropertyValue('--cx-max-views')
            .trim() || 2);
    }
    /**
     * The view is removed from the `SplitService` so that the view no longer
     * plays a role in the overall split view.
     */
    ngOnDestroy() {
        var _a;
        this.splitService.remove(this.viewPosition);
        (_a = this.subscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();
    }
};
ViewComponent.ctorParameters = () => [
    { type: SplitViewService },
    { type: ElementRef }
];
__decorate([
    Input(),
    HostBinding('attr.position')
], ViewComponent.prototype, "position", void 0);
__decorate([
    HostBinding('attr.disappeared')
], ViewComponent.prototype, "disappeared", void 0);
__decorate([
    Input()
], ViewComponent.prototype, "hidden", null);
__decorate([
    Output()
], ViewComponent.prototype, "hiddenChange", void 0);
ViewComponent = __decorate([
    Component({
        selector: 'cx-view',
        template: "<ng-content></ng-content>\n",
        changeDetection: ChangeDetectionStrategy.OnPush
    })
], ViewComponent);
export { ViewComponent };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlldy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290Ijoibmc6Ly9Ac3BhcnRhY3VzL3N0b3JlZnJvbnQvIiwic291cmNlcyI6WyJzaGFyZWQvY29tcG9uZW50cy9zcGxpdC12aWV3L3ZpZXcvdmlldy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IjtBQUFBLE9BQU8sRUFDTCx1QkFBdUIsRUFDdkIsU0FBUyxFQUNULFVBQVUsRUFDVixZQUFZLEVBQ1osV0FBVyxFQUNYLEtBQUssRUFDTCxTQUFTLEVBQ1QsTUFBTSxFQUNOLE1BQU0sR0FDUCxNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUV6RDs7Ozs7Ozs7R0FRRztBQU1ILElBQWEsYUFBYSxHQUExQixNQUFhLGFBQWE7SUFnQ3hCLFlBQ1ksWUFBOEIsRUFDOUIsVUFBc0I7UUFEdEIsaUJBQVksR0FBWixZQUFZLENBQWtCO1FBQzlCLGVBQVUsR0FBVixVQUFVLENBQVk7UUEzQmxDOztXQUVHO1FBQzhCLGdCQUFXLEdBQUcsSUFBSSxDQUFDO1FBY3BEOztXQUVHO1FBRUgsaUJBQVksR0FBRyxJQUFJLFlBQVksRUFBRSxDQUFDO0lBTy9CLENBQUM7SUF2Qko7Ozs7O09BS0c7SUFFSCxJQUFJLE1BQU0sQ0FBQyxNQUFlO1FBQ3hCLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO1FBQ3RCLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxZQUFZLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDdEQsQ0FBQztJQWVELFFBQVE7UUFDTixJQUFJLENBQUMsWUFBWSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsY0FBYyxDQUFDO1FBRXZELE1BQU0sTUFBTSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFDLEVBQUUsTUFBTSxFQUFFLElBQUksQ0FBQyxPQUFPLEVBQUUsQ0FBQyxDQUFDLENBQUMsRUFB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cEQ7SUFEQyxLQUFLLEVBQUU7MkNBSVA7QUFNRDtJQURDLE1BQU0sRUFBRTttREFDeUI7QUE1QnZCLGFBQWE7SUFMekIsU0FBUyxDQUFDO1FBQ1QsUUFBUSxFQUFFLFNBQVM7UUFDbkIsdUNBQW9DO1FBQ3BDLGVBQWUsRUFBRSx1QkFBdUIsQ0FBQyxNQUFNO0tBQ2hELENBQUM7R0FDVyxhQUFhLENBcUh6QjtTQXJIWSxhQUFhIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtcbiAgQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3ksXG4gIENvbXBvbmVudCxcbiAgRWxlbWVudFJlZixcbiAgRXZlbnRFbWl0dGVyLFxuICBIb3N0QmluZGluZyxcbiAgSW5wdXQsXG4gIE9uRGVzdHJveSxcbiAgT25Jbml0LFxuICBPdXRwdXQsXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgU3Vic2NyaXB0aW9uIH0gZnJvbSAncnhqcyc7XG5pbXBvcnQgeyBTcGxpdFZpZXdTZXJ2aWNlIH0gZnJvbSAnLi4vc3BsaXQtdmlldy5zZXJ2aWNlJztcblxuLyoqXG4gKiBUaGUgdmlldyBjb21wb25lbnQgaXMgcGFydCBvZiB0aGUgYFNwbGl0Vmlld0NvbXBvbmVudGAuIFRoZSB2aWV3XG4gKiBjb250YWlucyB0aGUgbmF2aWdhYmxlIGNvbnRlbnQgdGhhdCBzaG91bGQgYmUgc3BsaXQgdXAuIEl0IG1haW50YWluc1xuICogYSB2aWV3IHBvc2l0aW9uIGFuZCBhbGxvd3MgdG8gc2hvdyBvciBoaWRlIHRoZSB2aWV3LlxuICpcbiAqIFRoZSBWaWV3Q29tcG9uZW50IGludGVyYWN0cyB3aXRoIHRoZSBgU3BsaXRWaWV3U2VydmljZWAgZm9yIGhhbmRpbmcgb3ZlciB0aGVcbiAqIHZpZXcgc3RhdGUsIHNvIHRoYXQgdGhlIG92ZXJhcmNoaW5nIGBTcGxpdFZpZXdDb21wb25lbnRgIGNhbiBtYW5hZ2UgdGhlXG4gKiBvdmVyYWxsIGV4cGVyaWVuY2UuXG4gKi9cbkBDb21wb25lbnQoe1xuICBzZWxlY3RvcjogJ2N4LXZpZXcnLFxuICB0ZW1wbGF0ZVVybDogJy4vdmlldy5jb21wb25lbnQuaHRtbCcsXG4gIGNoYW5nZURldGVjdGlvbjogQ2hhbmdlRGV0ZWN0aW9uU3RyYXRlZ3kuT25QdXNoLFxufSlcbmV4cG9ydCBjbGFzcyBWaWV3Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBPbkRlc3Ryb3kge1xuICBwcm90ZWN0ZWQgX2hpZGRlbjtcblxuICBASW5wdXQoKVxuICBASG9zdEJpbmRpbmcoJ2F0dHIucG9zaXRpb24nKVxuICBwb3NpdGlvbjogc3RyaW5nO1xuXG4gIC8qKlxuICAgKiBUaGUgZGlzYXBwZWFyZWQgZmxhZyBpcyBhZGRlZCB0byB0aGVcbiAgICovXG4gIEBIb3N0QmluZGluZygnYXR0ci5kaXNhcHBlYXJlZCcpIGRpc2FwcGVhcmVkID0gdHJ1ZTtcblxuICAvKipcbiAgICogVGhlIGhpZGRlbiBpbnB1dCBpcyB1c2VkIHRvIHNldCB0aGUgaW5pdGlhbCB2aXNpYmxlIHN0YXRlIG9mIHRoZSB2aWV3LlxuICAgKiBUaGUgaGlkZGVuIHN0YXRlIGRlZmF1bHRzIHRvIGZhbHNlLlxuICAgKlxuICAgKiBUaGUgaGlkZGVuIGlucHV0IHN1cHBvcnRzIDItd2F5IGJpbmRpbmcsIHNlZSBgaGlkZGVuQ2hhbmdlYCBwcm9wZXJ0eS5cbiAgICovXG4gIEBJbnB1dCgpXG4gIHNldCBoaWRkZW4oaGlkZGVuOiBib29sZWFuKSB7XG4gICAgdGhpcy5faGlkZGVuID0gaGlkZGVuO1xuICAgIHRoaXMuc3BsaXRTZXJ2aWNlLnRvZ2dsZSh0aGlzLnZpZXdQb3NpdGlvbiwgaGlkZGVuKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBBbiB1cGRhdGUgb2YgdGhlIHZpZXcgdmlzaWJpbGl0eSBpcyBlbWl0dGVkIHRvIHRoZSBoaWRkZW5DaGFuZ2Ugb3V0cHV0LlxuICAgKi9cbiAgQE91dHB1dCgpXG4gIGhpZGRlbkNoYW5nZSA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcblxuICBwcm90ZWN0ZWQgc3Vic2NyaXB0aW9uOiBTdWJzY3JpcHRpb247XG5cbiAgY29uc3RydWN0b3IoXG4gICAgcHJvdGVjdGVkIHNwbGl0U2VydmljZTogU3BsaXRWaWV3U2VydmljZSxcbiAgICBwcm90ZWN0ZWQgZWxlbWVudFJlZjogRWxlbWVudFJlZlxuICApIHt9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5zcGxpdFNlcnZpY2Uuc3BsaXRWaWV3Q291bnQgPSB0aGlzLnNwbGl0Vmlld0NvdW50O1xuXG4gICAgY29uc3QgaGlkZGVuID0gdGhpcy5faGlkZGVuID8geyBoaWRkZW46IHRoaXMuX2hpZGRlbiB9IDoge307XG4gICAgdGhpcy5zcGxpdFNlcnZpY2UuYWRkKHRoaXMudmlld1Bvc2l0aW9uLCBoaWRkZW4pO1xuXG4gICAgdGhpcy5zdWJzY3JpcHRpb24gPSB0aGlzLnNwbGl0U2VydmljZVxuICAgICAgLmdldFZpZXdTdGF0ZShOdW1iZXIodGhpcy5wb3NpdGlvbikpXG4gICAgICAuc3Vic2NyaWJlKCh2aWV3KSA9PiB7XG4gICAgICAgIHRoaXMuaGlkZGVuQ2hhbmdlLmVtaXQodmlldy5oaWRkZW4pO1xuICAgICAgICB0aGlzLl9oaWRkZW4gPSB2aWV3LmhpZGRlbjtcbiAgICAgICAgaWYgKHZpZXcuaGlkZGVuKSB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRpc2FwcGVhcmVkID0gdHJ1ZTtcbiAgICAgICAgICB9LCB0aGlzLmR1cmF0aW9uICogMS4yNSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhpcy5kaXNhcHBlYXJlZCA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgfVxuXG4gIC8qKlxuICAgKiBUb2dnbGVzIHRoZSB2aXNpYmlsaXR5IG9mIHRoZSB2aWV3LlxuICAgKlxuICAgKiBBbiBvcHRpb25hbCBmb3JjZSBmbGFnIGNhbiBiZSB1c2VkIHRvIGV4cGxpY2l0bHkgc2hvdyBvciBoaWRlIHZpZXcgY29tcG9uZW50LlxuICAgKi9cbiAgdG9nZ2xlKGZvcmNlPzogYm9vbGVhbikge1xuICAgIHRoaXMuc3BsaXRTZXJ2aWNlLnRvZ2dsZSh0aGlzLnZpZXdQb3NpdGlvbiwgZm9yY2UpO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIHBvc2l0aW9uIGZvciB0aGUgdmlldy5cbiAgICpcbiAgICogVGhlIHBvc2l0aW9uIGlzIGVpdGhlciB0YWtlbiBmcm9tIHRoZSBpbnB1dCBgcG9zaXRpb25gIG9yIGdlbmVyYXRlZCBieSB0aGUgYFNwbGl0U2VydmljZWAuXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0IHZpZXdQb3NpdGlvbigpOiBudW1iZXIge1xuICAgIGlmICghKE51bWJlcih0aGlzLnBvc2l0aW9uKSA+PSAwKSkge1xuICAgICAgdGhpcy5wb3NpdGlvbiA9IHRoaXMuc3BsaXRTZXJ2aWNlLm5leHRQb3NpdGlvbi50b1N0cmluZygpO1xuICAgIH1cbiAgICByZXR1cm4gTnVtYmVyKHRoaXMucG9zaXRpb24pO1xuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIGR1cmF0aW9uIGluIG1pbGxpc2Vjb25kcy4gVGhlIGR1cmF0aW9uIGlzIGJhc2VkIG9uIHRoZSBDU1MgY3VzdG9tIHByb3BlcnR5XG4gICAqIGAtLWN4LXRyYW5zaXRpb24tZHVyYXRpb25gLiBEZWZhdWx0cyB0byAzMDAgbWlsbGlzZWNvbmRzLlxuICAgKi9cbiAgcHJvdGVjdGVkIGdldCBkdXJhdGlvbigpOiBudW1iZXIge1xuICAgIGNvbnN0IGR1cmF0aW9uOiBzdHJpbmcgPSBnZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KVxuICAgICAgLmdldFByb3BlcnR5VmFsdWUoJy0tY3gtdHJhbnNpdGlvbi1kdXJhdGlvbicpXG4gICAgICAudHJpbSgpO1xuXG4gICAgaWYgKGR1cmF0aW9uLmluZGV4T2YoJ21zJykgPiAtMSkge1xuICAgICAgcmV0dXJuIE51bWJlcihkdXJhdGlvbi5zcGxpdCgnbXMnKVswXSk7XG4gICAgfSBlbHNlIGlmIChkdXJhdGlvbi5pbmRleE9mKCdzJykgPiAtMSkge1xuICAgICAgcmV0dXJuIE51bWJlcihkdXJhdGlvbi5zcGxpdCgncycpWzBdKSAqIDEwMDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAzMDA7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJldHVybnMgdGhlIG1heGltdW0gbnVtYmVyIG9mIHZpZXdzIHBlciBzcGxpdC12aWV3LiBUaGUgbnVtYmVyIGlzIGJhc2VkIG9uIHRoZSBDU1MgY3VzdG9tIHByb3BlcnR5XG4gICAqIGAtLWN4LW1heC12aWV3c2AuIERlZmF1bHRzIHRvIGAyYFxuICAgKi9cbiAgcHJvdGVjdGVkIGdldCBzcGxpdFZpZXdDb3VudCgpOiBudW1iZXIge1xuICAgIHJldHVybiBOdW1iZXIoXG4gICAgICBnZXRDb21wdXRlZFN0eWxlKHRoaXMuZWxlbWVudFJlZi5uYXRpdmVFbGVtZW50KVxuICAgICAgICAuZ2V0UHJvcGVydHlWYWx1ZSgnLS1jeC1tYXgtdmlld3MnKVxuICAgICAgICAudHJpbSgpIHx8IDJcbiAgICApO1xuICB9XG5cbiAgLyoqXG4gICAqIFRoZSB2aWV3IGlzIHJlbW92ZWQgZnJvbSB0aGUgYFNwbGl0U2VydmljZWAgc28gdGhhdCB0aGUgdmlldyBubyBsb25nZXJcbiAgICogcGxheXMgYSByb2xlIGluIHRoZSBvdmVyYWxsIHNwbGl0IHZpZXcuXG4gICAqL1xuICBuZ09uRGVzdHJveSgpIHtcbiAgICB0aGlzLnNwbGl0U2VydmljZS5yZW1vdmUodGhpcy52aWV3UG9zaXRpb24pO1xuICAgIHRoaXMuc3Vic2NyaXB0aW9uPy51bnN1YnNjcmliZSgpO1xuICB9XG59XG4iXX0=