import { ChangeDetectionStrategy, Component, ElementRef, EventEmitter, HostBinding, Input, Output, } from '@angular/core';
import { SplitViewService } from '../split-view.service';
/**
 * The view component is part of the `SplitViewComponent`. The view
 * contains the navigable content that should be split up. It maintains
 * a view position and allows to show or hide the view.
 *
 * The ViewComponent interacts with the `SplitViewService` for handing over the
 * view state, so that the overarching `SplitViewComponent` can manage the
 * overall experience.
 */
export class ViewComponent {
    constructor(splitService, elementRef) {
        this.splitService = splitService;
        this.elementRef = elementRef;
        /**
         * The disappeared flag is added to the
         */
        this.disappeared = true;
        /**
         * An update of the view visibility is emitted to the hiddenChange output.
         */
        this.hiddenChange = new EventEmitter();
    }
    /**
     * The hidden input is used to set the initial visible state of the view.
     * The hidden state defaults to false.
     *
     * The hidden input supports 2-way binding, see `hiddenChange` property.
     */
    set hidden(hidden) {
        this._hidden = hidden;
        this.splitService.toggle(this.viewPosition, hidden);
    }
    ngOnInit() {
        this.splitService.splitViewCount = this.splitViewCount;
        const hidden = this._hidden ? { hidden: this._hidden } : {};
        this.splitService.add(this.viewPosition, hidden);
        this.subscription = this.splitService
            .getViewState(Number(this.position))
            .subscribe((view) => {
            this.hiddenChange.emit(view.hidden);
            this._hidden = view.hidden;
            if (view.hidden) {
                setTimeout(() => {
                    this.disappeared = true;
                }, this.duration * 1.25);
            }
            else {
                this.disappeared = false;
            }
        });
    }
    /**
     * Toggles the visibility of the view.
     *
     * An optional force flag can be used to explicitly show or hide view component.
     */
    toggle(force) {
        this.splitService.toggle(this.viewPosition, force);
    }
    /**
     * Returns the position for the view.
     *
     * The position is either taken from the input `position` or generated by the `SplitService`.
     */
    get viewPosition() {
        if (!(Number(this.position) >= 0)) {
            this.position = this.splitService.nextPosition.toString();
        }
        return Number(this.position);
    }
    /**
     * Returns the duration in milliseconds. The duration is based on the CSS custom property
     * `--cx-transition-duration`. Defaults to 300 milliseconds.
     */
    get duration() {
        const duration = getComputedStyle(this.elementRef.nativeElement)
            .getPropertyValue('--cx-transition-duration')
            .trim();
        if (duration.indexOf('ms') > -1) {
            return Number(duration.split('ms')[0]);
        }
        else if (duration.indexOf('s') > -1) {
            return Number(duration.split('s')[0]) * 1000;
        }
        else {
            return 300;
        }
    }
    /**
     * Returns the maximum number of views per split-view. The number is based on the CSS custom property
     * `--cx-max-views`. Defaults to `2`
     */
    get splitViewCount() {
        return Number(getComputedStyle(this.elementRef.nativeElement)
            .getPropertyValue('--cx-max-views')
            .trim() || 2);
    }
    /**
     * The view is removed from the `SplitService` so that the view no longer
     * plays a role in the overall split view.
     */
    ngOnDestroy() {
        var _a;
        this.splitService.remove(this.viewPosition);
        (_a = this.subscription) === null || _a === void 0 ? void 0 : _a.unsubscribe();
    }
}
ViewComponent.decorators = [
    { type: Component, args: [{
                selector: 'cx-view',
                template: "<ng-content></ng-content>\n",
                changeDetection: ChangeDetectionStrategy.OnPush
            },] }
];
ViewComponent.ctorParameters = () => [
    { type: SplitViewService },
    { type: ElementRef }
];
ViewComponent.propDecorators = {
    position: [{ type: Input }, { type: HostBinding, args: ['attr.position',] }],
    disappeared: [{ type: HostBinding, args: ['attr.disappeared',] }],
    hidden: [{ type: Input }],
    hiddenChange: [{ type: Output }]
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidmlldy5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi8uLi8uLi8uLi9wcm9qZWN0cy9zdG9yZWZyb250bGliL3NyYy9zaGFyZWQvY29tcG9uZW50cy9zcGxpdC12aWV3L3ZpZXcvdmlldy5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUNMLHVCQUF1QixFQUN2QixTQUFTLEVBQ1QsVUFBVSxFQUNWLFlBQVksRUFDWixXQUFXLEVBQ1gsS0FBSyxFQUdMLE1BQU0sR0FDUCxNQUFNLGVBQWUsQ0FBQztBQUV2QixPQUFPLEVBQUUsZ0JBQWdCLEVBQUUsTUFBTSx1QkFBdUIsQ0FBQztBQUV6RDs7Ozs7Ozs7R0FRRztBQU1ILE1BQU0sT0FBTyxhQUFhO0lBZ0N4QixZQUNZLFlBQThCLEVBQzlCLFVBQXNCO1FBRHRCLGlCQUFZLEdBQVosWUFBWSxDQUFrQjtRQUM5QixlQUFVLEdBQVYsVUFBVSxDQUFZO1FBM0JsQzs7V0FFRztRQUM4QixnQkFBVyxHQUFHLElBQUksQ0FBQztRQWNwRDs7V0FFRztRQUVILGlCQUFZLEdBQUcsSUFBSSxZQUFZLEVBQUUsQ0FBQztJQU8vQixDQUFDO0lBdkJKOzs7OztPQUtHO0lBQ0gsSUFDSSxNQUFNLENBQUMsTUFBZTtRQUN4QixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQztRQUN0QixJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsWUFBWSxFQUFFLE1BQU0sQ0FBQyxDQUFDO0lBQ3RELENBQUM7SUFlRCxRQUFRO1FBQ04sSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQztRQUV2RCxNQUFNLE1BQU0sR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxFQUFFLE1BQU0sRUFBRSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQztRQUM1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QyxlQUFlOzBCQU0zQixXQUFXLFNBQUMsa0JBQWtCO3FCQVE5QixLQUFLOzJCQVNMLE1BQU0iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQge1xuICBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneSxcbiAgQ29tcG9uZW50LFxuICBFbGVtZW50UmVmLFxuICBFdmVudEVtaXR0ZXIsXG4gIEhvc3RCaW5kaW5nLFxuICBJbnB1dCxcbiAgT25EZXN0cm95LFxuICBPbkluaXQsXG4gIE91dHB1dCxcbn0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBTdWJzY3JpcHRpb24gfSBmcm9tICdyeGpzJztcbmltcG9ydCB7IFNwbGl0Vmlld1NlcnZpY2UgfSBmcm9tICcuLi9zcGxpdC12aWV3LnNlcnZpY2UnO1xuXG4vKipcbiAqIFRoZSB2aWV3IGNvbXBvbmVudCBpcyBwYXJ0IG9mIHRoZSBgU3BsaXRWaWV3Q29tcG9uZW50YC4gVGhlIHZpZXdcbiAqIGNvbnRhaW5zIHRoZSBuYXZpZ2FibGUgY29udGVudCB0aGF0IHNob3VsZCBiZSBzcGxpdCB1cC4gSXQgbWFpbnRhaW5zXG4gKiBhIHZpZXcgcG9zaXRpb24gYW5kIGFsbG93cyB0byBzaG93IG9yIGhpZGUgdGhlIHZpZXcuXG4gKlxuICogVGhlIFZpZXdDb21wb25lbnQgaW50ZXJhY3RzIHdpdGggdGhlIGBTcGxpdFZpZXdTZXJ2aWNlYCBmb3IgaGFuZGluZyBvdmVyIHRoZVxuICogdmlldyBzdGF0ZSwgc28gdGhhdCB0aGUgb3ZlcmFyY2hpbmcgYFNwbGl0Vmlld0NvbXBvbmVudGAgY2FuIG1hbmFnZSB0aGVcbiAqIG92ZXJhbGwgZXhwZXJpZW5jZS5cbiAqL1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnY3gtdmlldycsXG4gIHRlbXBsYXRlVXJsOiAnLi92aWV3LmNvbXBvbmVudC5odG1sJyxcbiAgY2hhbmdlRGV0ZWN0aW9uOiBDaGFuZ2VEZXRlY3Rpb25TdHJhdGVneS5PblB1c2gsXG59KVxuZXhwb3J0IGNsYXNzIFZpZXdDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQsIE9uRGVzdHJveSB7XG4gIHByb3RlY3RlZCBfaGlkZGVuO1xuXG4gIEBJbnB1dCgpXG4gIEBIb3N0QmluZGluZygnYXR0ci5wb3NpdGlvbicpXG4gIHBvc2l0aW9uOiBzdHJpbmc7XG5cbiAgLyoqXG4gICAqIFRoZSBkaXNhcHBlYXJlZCBmbGFnIGlzIGFkZGVkIHRvIHRoZVxuICAgKi9cbiAgQEhvc3RCaW5kaW5nKCdhdHRyLmRpc2FwcGVhcmVkJykgZGlzYXBwZWFyZWQgPSB0cnVlO1xuXG4gIC8qKlxuICAgKiBUaGUgaGlkZGVuIGlucHV0IGlzIHVzZWQgdG8gc2V0IHRoZSBpbml0aWFsIHZpc2libGUgc3RhdGUgb2YgdGhlIHZpZXcuXG4gICAqIFRoZSBoaWRkZW4gc3RhdGUgZGVmYXVsdHMgdG8gZmFsc2UuXG4gICAqXG4gICAqIFRoZSBoaWRkZW4gaW5wdXQgc3VwcG9ydHMgMi13YXkgYmluZGluZywgc2VlIGBoaWRkZW5DaGFuZ2VgIHByb3BlcnR5LlxuICAgKi9cbiAgQElucHV0KClcbiAgc2V0IGhpZGRlbihoaWRkZW46IGJvb2xlYW4pIHtcbiAgICB0aGlzLl9oaWRkZW4gPSBoaWRkZW47XG4gICAgdGhpcy5zcGxpdFNlcnZpY2UudG9nZ2xlKHRoaXMudmlld1Bvc2l0aW9uLCBoaWRkZW4pO1xuICB9XG5cbiAgLyoqXG4gICAqIEFuIHVwZGF0ZSBvZiB0aGUgdmlldyB2aXNpYmlsaXR5IGlzIGVtaXR0ZWQgdG8gdGhlIGhpZGRlbkNoYW5nZSBvdXRwdXQuXG4gICAqL1xuICBAT3V0cHV0KClcbiAgaGlkZGVuQ2hhbmdlID0gbmV3IEV2ZW50RW1pdHRlcigpO1xuXG4gIHByb3RlY3RlZCBzdWJzY3JpcHRpb246IFN1YnNjcmlwdGlvbjtcblxuICBjb25zdHJ1Y3RvcihcbiAgICBwcm90ZWN0ZWQgc3BsaXRTZXJ2aWNlOiBTcGxpdFZpZXdTZXJ2aWNlLFxuICAgIHByb3RlY3RlZCBlbGVtZW50UmVmOiBFbGVtZW50UmVmXG4gICkge31cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnNwbGl0U2VydmljZS5zcGxpdFZpZXdDb3VudCA9IHRoaXMuc3BsaXRWaWV3Q291bnQ7XG5cbiAgICBjb25zdCBoaWRkZW4gPSB0aGlzLl9oaWRkZW4gPyB7IGhpZGRlbjogdGhpcy5faGlkZGVuIH0gOiB7fTtcbiAgICB0aGlzLnNwbGl0U2VydmljZS5hZGQodGhpcy52aWV3UG9zaXRpb24sIGhpZGRlbik7XG5cbiAgICB0aGlzLnN1YnNjcmlwdGlvbiA9IHRoaXMuc3BsaXRTZXJ2aWNlXG4gICAgICAuZ2V0Vmlld1N0YXRlKE51bWJlcih0aGlzLnBvc2l0aW9uKSlcbiAgICAgIC5zdWJzY3JpYmUoKHZpZXcpID0+IHtcbiAgICAgICAgdGhpcy5oaWRkZW5DaGFuZ2UuZW1pdCh2aWV3LmhpZGRlbik7XG4gICAgICAgIHRoaXMuX2hpZGRlbiA9IHZpZXcuaGlkZGVuO1xuICAgICAgICBpZiAodmlldy5oaWRkZW4pIHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGlzYXBwZWFyZWQgPSB0cnVlO1xuICAgICAgICAgIH0sIHRoaXMuZHVyYXRpb24gKiAxLjI1KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aGlzLmRpc2FwcGVhcmVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICB9XG5cbiAgLyoqXG4gICAqIFRvZ2dsZXMgdGhlIHZpc2liaWxpdHkgb2YgdGhlIHZpZXcuXG4gICAqXG4gICAqIEFuIG9wdGlvbmFsIGZvcmNlIGZsYWcgY2FuIGJlIHVzZWQgdG8gZXhwbGljaXRseSBzaG93IG9yIGhpZGUgdmlldyBjb21wb25lbnQuXG4gICAqL1xuICB0b2dnbGUoZm9yY2U/OiBib29sZWFuKSB7XG4gICAgdGhpcy5zcGxpdFNlcnZpY2UudG9nZ2xlKHRoaXMudmlld1Bvc2l0aW9uLCBmb3JjZSk7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgcG9zaXRpb24gZm9yIHRoZSB2aWV3LlxuICAgKlxuICAgKiBUaGUgcG9zaXRpb24gaXMgZWl0aGVyIHRha2VuIGZyb20gdGhlIGlucHV0IGBwb3NpdGlvbmAgb3IgZ2VuZXJhdGVkIGJ5IHRoZSBgU3BsaXRTZXJ2aWNlYC5cbiAgICovXG4gIHByb3RlY3RlZCBnZXQgdmlld1Bvc2l0aW9uKCk6IG51bWJlciB7XG4gICAgaWYgKCEoTnVtYmVyKHRoaXMucG9zaXRpb24pID49IDApKSB7XG4gICAgICB0aGlzLnBvc2l0aW9uID0gdGhpcy5zcGxpdFNlcnZpY2UubmV4dFBvc2l0aW9uLnRvU3RyaW5nKCk7XG4gICAgfVxuICAgIHJldHVybiBOdW1iZXIodGhpcy5wb3NpdGlvbik7XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgZHVyYXRpb24gaW4gbWlsbGlzZWNvbmRzLiBUaGUgZHVyYXRpb24gaXMgYmFzZWQgb24gdGhlIENTUyBjdXN0b20gcHJvcGVydHlcbiAgICogYC0tY3gtdHJhbnNpdGlvbi1kdXJhdGlvbmAuIERlZmF1bHRzIHRvIDMwMCBtaWxsaXNlY29uZHMuXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0IGR1cmF0aW9uKCk6IG51bWJlciB7XG4gICAgY29uc3QgZHVyYXRpb246IHN0cmluZyA9IGdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpXG4gICAgICAuZ2V0UHJvcGVydHlWYWx1ZSgnLS1jeC10cmFuc2l0aW9uLWR1cmF0aW9uJylcbiAgICAgIC50cmltKCk7XG5cbiAgICBpZiAoZHVyYXRpb24uaW5kZXhPZignbXMnKSA+IC0xKSB7XG4gICAgICByZXR1cm4gTnVtYmVyKGR1cmF0aW9uLnNwbGl0KCdtcycpWzBdKTtcbiAgICB9IGVsc2UgaWYgKGR1cmF0aW9uLmluZGV4T2YoJ3MnKSA+IC0xKSB7XG4gICAgICByZXR1cm4gTnVtYmVyKGR1cmF0aW9uLnNwbGl0KCdzJylbMF0pICogMTAwMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIDMwMDtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogUmV0dXJucyB0aGUgbWF4aW11bSBudW1iZXIgb2Ygdmlld3MgcGVyIHNwbGl0LXZpZXcuIFRoZSBudW1iZXIgaXMgYmFzZWQgb24gdGhlIENTUyBjdXN0b20gcHJvcGVydHlcbiAgICogYC0tY3gtbWF4LXZpZXdzYC4gRGVmYXVsdHMgdG8gYDJgXG4gICAqL1xuICBwcm90ZWN0ZWQgZ2V0IHNwbGl0Vmlld0NvdW50KCk6IG51bWJlciB7XG4gICAgcmV0dXJuIE51bWJlcihcbiAgICAgIGdldENvbXB1dGVkU3R5bGUodGhpcy5lbGVtZW50UmVmLm5hdGl2ZUVsZW1lbnQpXG4gICAgICAgIC5nZXRQcm9wZXJ0eVZhbHVlKCctLWN4LW1heC12aWV3cycpXG4gICAgICAgIC50cmltKCkgfHwgMlxuICAgICk7XG4gIH1cblxuICAvKipcbiAgICogVGhlIHZpZXcgaXMgcmVtb3ZlZCBmcm9tIHRoZSBgU3BsaXRTZXJ2aWNlYCBzbyB0aGF0IHRoZSB2aWV3IG5vIGxvbmdlclxuICAgKiBwbGF5cyBhIHJvbGUgaW4gdGhlIG92ZXJhbGwgc3BsaXQgdmlldy5cbiAgICovXG4gIG5nT25EZXN0cm95KCkge1xuICAgIHRoaXMuc3BsaXRTZXJ2aWNlLnJlbW92ZSh0aGlzLnZpZXdQb3NpdGlvbik7XG4gICAgdGhpcy5zdWJzY3JpcHRpb24/LnVuc3Vic2NyaWJlKCk7XG4gIH1cbn1cbiJdfQ==