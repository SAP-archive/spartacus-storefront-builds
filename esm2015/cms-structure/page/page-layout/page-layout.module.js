import { __decorate } from "tslib";
import { CommonModule } from '@angular/common';
import { APP_BOOTSTRAP_LISTENER, NgModule } from '@angular/core';
import { FeatureConfigService } from '@spartacus/core';
import { PageSlotModule } from '../../../cms-structure/page/slot/page-slot.module';
import { OutletModule } from '../../outlet/outlet.module';
import { PageLayoutComponent } from './page-layout.component';
import { PageTemplateStyleService } from './page-template-style.service';
export function initPageTemplateStyle(service, featureConfigService) {
    const result = (componentRef) => {
        if (featureConfigService.isLevel('2.1')) {
            service.initialize(componentRef);
        }
    };
    return result;
}
let PageLayoutModule = class PageLayoutModule {
};
PageLayoutModule = __decorate([
    NgModule({
        imports: [CommonModule, OutletModule, PageSlotModule],
        declarations: [PageLayoutComponent],
        exports: [PageLayoutComponent],
        providers: [
            {
                provide: APP_BOOTSTRAP_LISTENER,
                multi: true,
                useFactory: initPageTemplateStyle,
                deps: [PageTemplateStyleService, FeatureConfigService],
            },
        ],
    })
], PageLayoutModule);
export { PageLayoutModule };
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoicGFnZS1sYXlvdXQubW9kdWxlLmpzIiwic291cmNlUm9vdCI6Im5nOi8vQHNwYXJ0YWN1cy9zdG9yZWZyb250LyIsInNvdXJjZXMiOlsiY21zLXN0cnVjdHVyZS9wYWdlL3BhZ2UtbGF5b3V0L3BhZ2UtbGF5b3V0Lm1vZHVsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQUEsT0FBTyxFQUFFLFlBQVksRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQy9DLE9BQU8sRUFBRSxzQkFBc0IsRUFBZ0IsUUFBUSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBQy9FLE9BQU8sRUFBRSxvQkFBb0IsRUFBRSxNQUFNLGlCQUFpQixDQUFDO0FBQ3ZELE9BQU8sRUFBRSxjQUFjLEVBQUUsTUFBTSxtREFBbUQsQ0FBQztBQUNuRixPQUFPLEVBQUUsWUFBWSxFQUFFLE1BQU0sNEJBQTRCLENBQUM7QUFDMUQsT0FBTyxFQUFFLG1CQUFtQixFQUFFLE1BQU0seUJBQXlCLENBQUM7QUFDOUQsT0FBTyxFQUFFLHdCQUF3QixFQUFFLE1BQU0sK0JBQStCLENBQUM7QUFFekUsTUFBTSxVQUFVLHFCQUFxQixDQUNuQyxPQUFpQyxFQUNqQyxvQkFBMEM7SUFFMUMsTUFBTSxNQUFNLEdBQUcsQ0FBQyxZQUErQixFQUFFLEVBQUU7UUFDakQsSUFBSSxvQkFBb0IsQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQUU7WUFDdkMsT0FBTyxDQUFDLFVBQVUsQ0FBQyxZQUFZLENBQUMsQ0FBQztTQUNsQztJQUNILENBQUMsQ0FBQztJQUNGLE9BQU8sTUFBTSxDQUFDO0FBQ2hCLENBQUM7QUFnQkQsSUFBYSxnQkFBZ0IsR0FBN0IsTUFBYSxnQkFBZ0I7Q0FBRyxDQUFBO0FBQW5CLGdCQUFnQjtJQWQ1QixRQUFRLENBQUM7UUFDUixPQUFPLEVBQUUsQ0FBQyxZQUFZLEVBQUUsWUFBWSxFQUFFLGNBQWMsQ0FBQztRQUNyRCxZQUFZLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQztRQUNuQyxPQUFPLEVBQUUsQ0FBQyxtQkFBbUIsQ0FBQztRQUU5QixTQUFTLEVBQUU7WUFDVDtnQkFDRSxPQUFPLEVBQUUsc0JBQXNCO2dCQUMvQixLQUFLLEVBQUUsSUFBSTtnQkFDWCxVQUFVLEVBQUUscUJBQXFCO2dCQUNqQyxJQUFJLEVBQUUsQ0FBQyx3QkFBd0IsRUFBRSxvQkFBb0IsQ0FBQzthQUN2RDtTQUNGO0tBQ0YsQ0FBQztHQUNXLGdCQUFnQixDQUFHO1NBQW5CLGdCQUFnQiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbW1vbk1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbic7XG5pbXBvcnQgeyBBUFBfQk9PVFNUUkFQX0xJU1RFTkVSLCBDb21wb25lbnRSZWYsIE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBGZWF0dXJlQ29uZmlnU2VydmljZSB9IGZyb20gJ0BzcGFydGFjdXMvY29yZSc7XG5pbXBvcnQgeyBQYWdlU2xvdE1vZHVsZSB9IGZyb20gJy4uLy4uLy4uL2Ntcy1zdHJ1Y3R1cmUvcGFnZS9zbG90L3BhZ2Utc2xvdC5tb2R1bGUnO1xuaW1wb3J0IHsgT3V0bGV0TW9kdWxlIH0gZnJvbSAnLi4vLi4vb3V0bGV0L291dGxldC5tb2R1bGUnO1xuaW1wb3J0IHsgUGFnZUxheW91dENvbXBvbmVudCB9IGZyb20gJy4vcGFnZS1sYXlvdXQuY29tcG9uZW50JztcbmltcG9ydCB7IFBhZ2VUZW1wbGF0ZVN0eWxlU2VydmljZSB9IGZyb20gJy4vcGFnZS10ZW1wbGF0ZS1zdHlsZS5zZXJ2aWNlJztcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXRQYWdlVGVtcGxhdGVTdHlsZShcbiAgc2VydmljZTogUGFnZVRlbXBsYXRlU3R5bGVTZXJ2aWNlLFxuICBmZWF0dXJlQ29uZmlnU2VydmljZTogRmVhdHVyZUNvbmZpZ1NlcnZpY2Vcbikge1xuICBjb25zdCByZXN1bHQgPSAoY29tcG9uZW50UmVmOiBDb21wb25lbnRSZWY8YW55PikgPT4ge1xuICAgIGlmIChmZWF0dXJlQ29uZmlnU2VydmljZS5pc0xldmVsKCcyLjEnKSkge1xuICAgICAgc2VydmljZS5pbml0aWFsaXplKGNvbXBvbmVudFJlZik7XG4gICAgfVxuICB9O1xuICByZXR1cm4gcmVzdWx0O1xufVxuXG5ATmdNb2R1bGUoe1xuICBpbXBvcnRzOiBbQ29tbW9uTW9kdWxlLCBPdXRsZXRNb2R1bGUsIFBhZ2VTbG90TW9kdWxlXSxcbiAgZGVjbGFyYXRpb25zOiBbUGFnZUxheW91dENvbXBvbmVudF0sXG4gIGV4cG9ydHM6IFtQYWdlTGF5b3V0Q29tcG9uZW50XSxcblxuICBwcm92aWRlcnM6IFtcbiAgICB7XG4gICAgICBwcm92aWRlOiBBUFBfQk9PVFNUUkFQX0xJU1RFTkVSLFxuICAgICAgbXVsdGk6IHRydWUsXG4gICAgICB1c2VGYWN0b3J5OiBpbml0UGFnZVRlbXBsYXRlU3R5bGUsXG4gICAgICBkZXBzOiBbUGFnZVRlbXBsYXRlU3R5bGVTZXJ2aWNlLCBGZWF0dXJlQ29uZmlnU2VydmljZV0sXG4gICAgfSxcbiAgXSxcbn0pXG5leHBvcnQgY2xhc3MgUGFnZUxheW91dE1vZHVsZSB7fVxuIl19